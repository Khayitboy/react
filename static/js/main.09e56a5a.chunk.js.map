{"version":3,"sources":["redux/dialogs-reducer.js","components/Users/users.module.css","components/common/preloader/preloader.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/Footer/Footer.jsx","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/avatar.jpg","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.js","logo.svg","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","serviceWorker.js","index.js","assets/images/loader.gif","components/common/preloader/Preloader.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.css","components/common/FormControls/FormsControls.js","components/common/Paginator/Paginator.module.css","redux/profile-reducer.js"],"names":["ADDMESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessage","type","dialogsReducer","state","action","stateCopy","push","module","exports","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","Follow","post","unFollow","delete","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","style","nav","item","activeClassName","active","to","Footer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","setCurrentPageAC","toogleIsFetchingAC","toggleFollowingProgress","usersReducer","map","u","followed","count","filter","Paginator","props","pagesCount","Math","ceil","pages","i","portionCount","portionSize","useState","portionNumber","SetPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","selectedPage","e","onPageChanged","User","user","unfollow","follow","src","photos","small","userPhoto","alt","disabled","some","Users","key","getUsersSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","Preloader","React","Component","compose","connect","dispatch","a","resultCode","setCurrentPage","page","items","totalCount","Header","href","logo","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","maxLength","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","validate","required","placeholder","error","formSummaryError","length","stopSubmit","_error","formData","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","fallback","AppContainer","withRouter","MainApp","basename","process","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","bg","preloader","value","FormControl","input","child","meta","hasError","touched","formControl","children","Textarea","restProps","ADDPOST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.09e56a5a.chunk.js","sourcesContent":["const ADDMESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: \"Dimych\" },\r\n        { id: 2, name: \"User\" },\r\n        { id: 3, name: \"User 2\" },\r\n    ],\r\n    messages: [\r\n        { id: 1, message: \"Hi\" },\r\n        { id: 2, message: \"Lorem ipsum dolor sit amet consectetur adipisicing.\" },\r\n        { id: 3, message: \"What's up\" },\r\n    ]\r\n};\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    let stateCopy = {...state};\r\n    if(action.type === ADDMESSAGE){\r\n        let newMessage = {\r\n            id: 4,\r\n            message: action.newMessage\r\n        }\r\n        stateCopy.messages = [...state.messages];\r\n        stateCopy.messages.push(newMessage);\r\n    }\r\n    return stateCopy;\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessage) => {\r\n    return {\r\n        type:ADDMESSAGE,\r\n        newMessage\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1czSO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"preloader_bg__aWB6J\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"10284823-4087-4b27-9f53-f347637049d1\"\r\n    },\r\n    baseURL : 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage=1,pageSize=10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    Follow(id){\r\n        return instance.post(`follow/${id}`).then(response => {\r\n            return response.data;\r\n        }) \r\n    },\r\n    unFollow(id){\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data;\r\n        }) \r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`,{status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Tzxq\",\"item\":\"Navbar_item__3uZEt\",\"active\":\"Navbar_active__1AiqC\"};","import React from 'react';\r\nimport style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <ul>\r\n                <li className={style.item}><NavLink activeClassName={style.active} to=\"/profile\">Profile</NavLink></li>\r\n                <li className={style.item}><NavLink activeClassName={style.active} to=\"/dialogs\">Messages</NavLink></li>\r\n                <li className={style.item}><NavLink activeClassName={style.active} to=\"/users\">Users</NavLink></li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <div className=\"footer\">\r\n                <div className=\"container\">\r\n                    <p>Copyright © 2020 Facebook Inc.</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, users: action.users };\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followAC = (userId) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const unfollowAC = (userId) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users,\r\n  };\r\n};\r\n\r\nexport const setCurrentPageAC = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n  };\r\n};\r\nexport const setTotalUsersCountAC = (totalCount) => {\r\n  return {\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalCount,\r\n  };\r\n};\r\nexport const toogleIsFetchingAC = (isFetching) => {\r\n  return {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching,\r\n  };\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n  return {\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const getUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toogleIsFetchingAC(true));\r\n    dispatch(setCurrentPageAC(page));\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toogleIsFetchingAC(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCountAC(data.totalCount));\r\n  };\r\n};\r\n\r\nexport const follow = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, id));\r\n    let data = await usersAPI.Follow(id);\r\n    if (data.resultCode === 0) {\r\n      dispatch(followAC(id));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, id));\r\n  };\r\n};\r\n\r\nexport const unfollow = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, id));\r\n    let data = await usersAPI.unFollow(id);\r\n    if (data.resultCode === 0) {\r\n      dispatch(unfollowAC(id));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, id));\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\n\r\n\r\nlet Paginator = (props) => {\r\n  debugger;\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n  let [portionNumber, SetPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 && \r\n        <button onClick={() => {SetPortionNumber(portionNumber - 1)}}>PREV</button>\r\n      }\r\n      {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n        return (\r\n          <span\r\n            className={props.currentPage === p && styles.selectedPage}\r\n            onClick={(e) => {\r\n              props.onPageChanged(p);\r\n            }}\r\n          >\r\n            {p}\r\n          </span>\r\n        );\r\n      })}\r\n      {portionCount > portionNumber && \r\n        <button onClick={() => {SetPortionNumber(portionNumber + 1)}}>NEXT</button>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","export default __webpack_public_path__ + \"static/media/avatar.60b92e78.jpg\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/avatar.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              className={styles.userPhoto}\r\n              alt=\"\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              UnFollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"user.location.city\"}</div>\r\n          <div>{\"user.location.country\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = (props) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalUsersCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        portionSize={props.portionSize}\r\n      />\r\n      <div>\r\n        {props.users.map((u) => (\r\n          <User\r\n            key={u.id}\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelector } from 'reselect'\r\n\r\nconst getUser = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUser, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, setCurrentPageAC, toggleFollowingProgress, unfollow, getUsers } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsersSelector } from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <> \r\n        {this.props.isFetching ? \r\n        <Preloader />\r\n        : null}\r\n        <Users totalUsersCount={this.props.totalUsersCount}\r\n                      pageSize={this.props.pageSize}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChanged={this.onPageChanged}\r\n                      users={this.props.users}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n                      followingInProgress={this.props.followingInProgress}\r\n                      portionSize={this.props.portionSize}\r\n        />\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return{\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        // users: getUser(state),\r\n        users:getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: 10\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow,\r\n            unfollow,\r\n            setCurrentPage:setCurrentPageAC,\r\n            toggleFollowingProgress,\r\n            getUsers\r\n    \r\n        }\r\n        )\r\n)(UsersContainer);;\r\n\r\n    ","export default __webpack_public_path__ + \"static/media/logo.2d27ead7.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from './../../logo.svg';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header>\r\n            <div className=\"header\">\r\n                <div className=\"container\">\r\n                    <a href=\"#s\" className=\"logo\"><img src={logo} alt=\"Logo\" /><span>React App</span></a>\r\n                    <div className=\"login_block\">\r\n                        {props.isAuth \r\n                        ? <div>{props.login}--<button onClick={props.logout}>Logout</button></div>  \r\n                        : <NavLink to={'/login'}>Login</NavLink>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    payload: {\r\n      userId,\r\n      email,\r\n      login,\r\n      isAuth,\r\n    },\r\n  };\r\n};\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Email or password incorrect\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../redux/auth-reducer';\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />   \r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth,\r\n    login:state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormControls/FormsControls';\r\nimport style from './../common/FormControls/FormControls.module.css';\r\n\r\nconst maxLength = maxLengthCreator(30);\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field component={Input} validate={[required, maxLength]}  name=\"email\" placeholder=\"Email\"/></div>\r\n            <div><Field component={Input} validate={[required, maxLength]} name=\"password\" placeholder=\"Password\" type=\"password\" /></div>\r\n            <div><Field component={Input} validate={[required, maxLength]} type=\"checkbox\" name=\"rememberMe\" />remember me</div>\r\n            {props.error && <div className={style.formSummaryError}>{props.error}</div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    \r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) return <Redirect to={\"/profile\"} />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'; \r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    if(action.type === SET_INITIALIZED){\r\n        return {\r\n            ...state,\r\n            initialized:true\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type:SET_INITIALIZED\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n\r\n};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React, { Suspense } from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport { BrowserRouter, Route, withRouter } from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport store from './redux/redux-store';\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import ('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"App-wrapper\">\r\n        <HeaderContainer />\r\n        <main>\r\n          <div className=\"container\">\r\n            <Navbar />\r\n            <div className=\"main_content\">\r\n              <Route\r\n                path=\"/profile/:userId?\"\r\n                render={() => {\r\n                  return <Suspense fallback={<Preloader />}>\r\n                    <ProfileContainer />\r\n                  </Suspense>\r\n                }}\r\n              />\r\n              <Route path=\"/dialogs\" render={() => {\r\n                return <Suspense fallback={<Preloader />}>\r\n                  <DialogsContainer />\r\n                </Suspense>\r\n              } } />\r\n              <Route path=\"/users\" render={() => <UsersContainer />} />\r\n              <Route path=\"/login\" render={() => <Login />} />\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized,\r\n  };\r\n};\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);\r\n\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default MainApp;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport MainApp from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MainApp />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export default __webpack_public_path__ + \"static/media/loader.024f1fb6.gif\";","import preloader from '../../../assets/images/loader.gif';\r\nimport styles from './preloader.module.css';\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={styles.bg}>\r\n            <img src={preloader} alt=\"\"/> \r\n        </div>\r\n    \r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__35vaJ\",\"error\":\"FormControls_error__2WtUl\",\"formSummaryError\":\"FormControls_formSummaryError__3aAte\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\n\r\nconst FormControl = ({input, child, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return(\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError ? <span>{meta.error}</span> : \"\"}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => { \r\n    const {input, child, meta, ...restProps} = props;\r\n    return(\r\n        <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, child, meta, ...restProps} = props;\r\n    return(\r\n        <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2TyuN\"};","import { profileAPI } from \"../api/api\";\r\n\r\n\r\nconst ADDPOST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"What's going on here?\", likesCount: 5 },\r\n        { id: 2, message: \"how are you?\", likesCount: 10 },\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case ADDPOST:{\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            let stateCopy = {...state};\r\n            stateCopy.posts = [...state.posts];\r\n            stateCopy.posts.push(newPost);\r\n            return stateCopy;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state,profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state,status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts:state.posts.filter(p => p.id !== action.postId)}\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADDPOST,\r\n        newPostText\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type:SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type:SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type:DELETE_POST,\r\n        postId\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    \r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n        dispatch(setStatus(response.data));\r\n    \r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n        }\r\n    \r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}